---
title: Assemble comprehension AST in decompiler
status: closed
priority: 1
issue-type: task
created-at: "\"2026-01-08T19:17:27.116292+02:00\""
closed-at: "2026-01-08T22:45:51.634398+02:00"
close-reason: completed
blocks:
  - pez-ef13e1083fb10d74
---

File: src/decompile.zig:160 - decompileBlock/processBlockStatements only pull Expr from stack; need to recognize comprehension builder StackValue and emit ast.list_comp/set_comp/dict_comp with Comprehension generators. Implement builder-to-AST conversion and integrate into expression production so STORE_* and RETURN_VALUE consume the comprehension expr.
