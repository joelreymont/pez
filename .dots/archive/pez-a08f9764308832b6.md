---
title: Fix memory leaks in error paths
status: closed
priority: 2
issue-type: task
created-at: "\"\\\"2026-01-10T06:37:10.583136+02:00\\\"\""
closed-at: "2026-01-10T07:03:54.747544+02:00"
---

File: src/ast.zig:1444 (makeName leak in unpack_empty.2.7.pyc), other allocation sites. Issue: When errors occur after allocating Expr/Stmt but before adding to arena, memory leaks. Solution: 1) Use errdefer allocator.destroy() after each create(), 2) Or allocate in arena immediately, 3) Add leak detection test. Find leaks: run with gpa on all test files, collect leak reports. Priority: P2-MEDIUM.
